# 실행(JVM)

JVM(Java Virtual Machine)은 <mark style="color:blue;">자바 가상 머신</mark>으로, 자바 바이트코드(.class 파일)를 실행하는 프로그램입니다. 자바 언어는 컴파일러를 통해 소스 코드를 바이트코드로 변환하고, 이 바이트코드를 JVM에서 실행됩니다. 이 과정에서 JVM은 바이트코드를 기계어로 번역하고, 메모리 관리, 가비지 컬렉션, 스레드 동기화 등의 기능을 수행합니다.

JVM은 플랫폼에 독립적인 특징을 가지며, 한 번 작성된 자바 코드는 여러 운영체제에서 동일하게 동작할 수 있습니다. 또한, JVM은 다양한 언어에서 사용될 수 있도록 설계되어 있어, Groovy, Kotlin, Scala 등의 언어에서도 사용됩니다.





_<mark style="background-color:yellow;">근데 JVM을 세부적으로 몰라도 코딩하는데 지장은 없을 것 같은데..</mark>_\
_<mark style="background-color:yellow;">계속해서 언급되는거 보니까 중요한가봐요!?</mark>_

JVM은 자바 개발자들이 자바 언어를 사용하여 애플리케이션을 개발하고 실행하기 위해 중요한 기술입니다. 따라서 자바 개발자로서 JVM의 개념과 작동 방식을 이해하고 있어야 합니다. 또한, JVM은 자바 프로그램의 성능과 안정성에 직접적인 영향을 미치기 때문에, <mark style="color:blue;">JVM의 동작 방식을 이해하고 최적화하는 것은 자바 애플리케이션의 성능 개선</mark>에 큰 도움이 됩니다.







_<mark style="background-color:yellow;">앞서 클래스는 스택, 인스턴스는 힙에 저장된다고 배웠어요.</mark>_\
_<mark style="background-color:yellow;">JVM에서 이런 것들을 컨트롤하는 것 맞나요?</mark>_

응용프로그램이 실행되면, JVM은 시스템으로부터 프로그램을 수행하는데 필요한 메모리를 할당받고 JVM은 이 메모리를 용도에 따라 여러 영역으로 나누어 관리합니다. 3가지 주요 영역은 다음과 같습니다.

```
       +--------------+
       | * Method     | -> memory for class data(class variable)
       |   Area       |
       +--------------+
       | * Heap       | -> memory for instance(instance variable)
       +--------------+
       | * JVM Stack  | -> memory for execution method(local variable)
       +--------------+
       | Native       |
       | Method       |
       | Stack        |
       +--------------+
       | PC           |
       +--------------+

```

1. Method Area: 메소드 영역은 클래스의 정보와 클래스 변수(static 변수)가 저장되는 영역입니다. 클래스가 처음 로딩될 때 생성되며, 프로그램이 종료될 때까지 유지됩니다. 이 영역은 JVM(Java Virtual Machine)이 시작될 때 생성됩니다.
2. JVM Stack: 호출 스택은 현재 실행 중인 메소드의 정보를 저장하는 스택입니다. 메소드가 호출될 때마다 호출 스택에 새로운 프레임이 추가됩니다. 프레임에는 메소드의 매개 변수, 지역 변수 및 반환 주소가 저장됩니다. 메소드가 실행을 마치면 해당 프레임은 스택에서 제거됩니다.
3. Heap: 힙은 동적으로 할당된 객체가 저장되는 곳으로, JVM의 메모리 중 가장 큰 영역입니다. 객체는 프로그램 실행 중에 동적으로 생성되며, 힙에 할당됩니다. 힙은 JVM이 시작될 때 생성되며, 프로그램이 종료될 때까지 유지됩니다. 힙에 저장된 객체는 가비지 컬렉션에 의해 관리됩니다.



이 세 가지 메모리 구성 요소는 JVM에서 메모리를 효율적으로 관리하는데 중요한 역할을 합니다. 메소드 영역은 클래스 정보를 저장하여 클래스를 로딩하고 메모리를 관리합니다. 호출 스택은 현재 실행 중인 메소드의 정보를 추적하여 메소드 호출을 관리합니다. 마지막으로, 힙은 동적으로 할당된 객체를 저장하고 관리하여 프로그램에서 사용하는 메모리를 효율적으로 활용합니다.

<pre data-overflow="wrap"><code><strong>🔍 JVM 스택과 Native 메서드 스택은 모두 스택이지만, JVM 스택은 Java 프로그램에서 실행되는 메서드의 호출 정보를 저장하는 데 사용되는 반면 Native 메서드 스택은 네이티브 코드(Java가 아닌 다른 언어로 작성된 코드)에서 실행되는 메서드의 호출 정보를 저장하는 데 사용됩니다. 즉, JVM 스택은 Java 메서드 호출 정보를 저장하고 Java 프로그램의 실행 컨텍스트를 관리하는 반면, Native 메서드 스택은 네이티브 코드(예: C, C++)에서 호출된 메서드의 호출 정보를 저장하고 네이티브 코드의 실행 컨텍스트를 관리합니다. JVM 스택과 Native 메서드 스택은 서로 독립적으로 관리되지만, JVM은 이 두 가지 스택 모두를 관리하여 Java와 네이티브 코드 간의 상호 작용이 가능하게 합니다.
</strong></code></pre>

